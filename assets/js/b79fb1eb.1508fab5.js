"use strict";(globalThis.webpackChunkwuair_docs=globalThis.webpackChunkwuair_docs||[]).push([[8909],{3586:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"Control/PID","title":"PID Control","description":"A PID controller is a feedback control method used to make a system follow a desired value or trajectory. The name comes from its three components:","source":"@site/docs/Control/PID.mdx","sourceDirName":"Control","slug":"/Control/PID","permalink":"/wuair_docs/docs/Control/PID","draft":false,"unlisted":false,"editUrl":"https://github.com/WU-AI-Racing/wuair_docs.git/docs/Control/PID.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Necessary Background","permalink":"/wuair_docs/docs/Control/start-here"}}');var s=t(4848),i=t(8453);const o={sidebar_position:2},l="PID Control",c={},d=[{value:"What Is &quot;Error&quot;?",id:"what-is-error",level:2},{value:"The Three Terms",id:"the-three-terms",level:2},{value:"1. Proportional Term (P)",id:"1-proportional-term-p",level:3},{value:"2. Integral Term (I)",id:"2-integral-term-i",level:3},{value:"3. Derivative Term (D)",id:"3-derivative-term-d",level:3},{value:"Full PID Formula",id:"full-pid-formula",level:2},{value:"Tuning PID",id:"tuning-pid",level:2},{value:"Why PID?",id:"why-pid",level:2},{value:"Closing Remarks, other Resources",id:"closing-remarks-other-resources",level:2}];function a(e){const r={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"pid-control",children:"PID Control"})}),"\n",(0,s.jsxs)(r.p,{children:["A ",(0,s.jsx)(r.strong,{children:"PID controller"})," is a feedback control method used to make a system follow a desired value or trajectory. The name comes from its three components:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"P"})," \u2014 Proportional"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"I"})," \u2014 Integral"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"D"})," \u2014 Derivative"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Each term is related to the error of the system."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"what-is-error",children:'What Is "Error"?'}),"\n",(0,s.jsx)(r.p,{children:"A PID controller continuously computes an error:"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.img,{src:"https://latex.codecogs.com/svg.image?%5Ccolor%7Bwhite%7De(t)=r(t)-y(t)",alt:"e(t) = r(t) - y(t)"})}),"\n",(0,s.jsx)(r.p,{children:"where:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"(r(t)) = setpoint (desired value)"}),"\n",(0,s.jsx)(r.li,{children:"(y(t)) = measurement (current value)"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The controller then uses this error to generate a control signal."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"the-three-terms",children:"The Three Terms"}),"\n",(0,s.jsx)(r.h3,{id:"1-proportional-term-p",children:"1. Proportional Term (P)"}),"\n",(0,s.jsxs)(r.p,{children:["The proportional term is defined by the ",(0,s.jsx)(r.strong,{children:"current error"}),":"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.img,{src:"https://latex.codecogs.com/svg.image?%5Ccolor%7Bwhite%7DP_p(t)=K_p%20e(t)",alt:"P_p(t) = K_p e(t)"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"and a gain (K_p)."}),"\n",(0,s.jsx)(r.li,{children:"Large (K_p) \u2192 fast response, but too large can cause oscillations."}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The intuition is to apply more control when the error is large and less when the state is close to the target."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"2-integral-term-i",children:"2. Integral Term (I)"}),"\n",(0,s.jsxs)(r.p,{children:["The integral term reacts to ",(0,s.jsx)(r.strong,{children:"accumulated error"}),":"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.img,{src:"https://latex.codecogs.com/svg.image?%5Ccolor%7Bwhite%7DP_i(t)=K_i%5Cint_0%5Et%20e(%5Ctau),d%5Ctau",alt:"P_i(t) = K_i \u222b\u2080\u1d57 e(\u03c4) d\u03c4"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Helps eliminate ",(0,s.jsx)(r.strong,{children:"steady-state error"}),"."]}),"\n",(0,s.jsx)(r.li,{children:"Too much integral gain can cause slow oscillations or drift."}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The controller effectively gains \u201cmemory\u201d of past errors."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"3-derivative-term-d",children:"3. Derivative Term (D)"}),"\n",(0,s.jsxs)(r.p,{children:["The derivative term reacts to the ",(0,s.jsx)(r.strong,{children:"rate of change of error"}),":"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.img,{src:"https://latex.codecogs.com/svg.image?%5Ccolor%7Bwhite%7DP_d(t)=K_d%5Cfrac%7Bde(t)%7D%7Bdt%7D",alt:"P_d(t) = K_d de(t)/dt"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Acts as damping to reduce overshoot."}),"\n",(0,s.jsx)(r.li,{children:"Helps predict error trends."}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Intuition:"})," Slow down when approaching the target too fast."]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"full-pid-formula",children:"Full PID Formula"}),"\n",(0,s.jsx)(r.p,{children:"Combining all three terms:"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.img,{src:"https://latex.codecogs.com/svg.image?%5Ccolor%7Bwhite%7Du(t)=K_p%20e(t)%20+%20K_i%5Cint_0%5Et%20e(%5Ctau),d%5Ctau%20+%20K_d%5Cfrac%7Bde(t)%7D%7Bdt%7D",alt:"u(t) = K_p e(t) + K_i \u222b\u2080\u1d57 e(\u03c4)d\u03c4 + K_d de(t)/dt"})}),"\n",(0,s.jsx)(r.p,{children:"This control signal (u(t)) is applied to the system continuously."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"tuning-pid",children:"Tuning PID"}),"\n",(0,s.jsx)(r.p,{children:"Common strategies:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Start with ",(0,s.jsx)(r.strong,{children:"P only"}),"; increase until oscillation starts, then reduce."]}),"\n",(0,s.jsxs)(r.li,{children:["Add ",(0,s.jsx)(r.strong,{children:"D"})," to damp oscillations."]}),"\n",(0,s.jsxs)(r.li,{children:["Add ",(0,s.jsx)(r.strong,{children:"I"})," last to remove steady-state error."]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Automated tuning methods also exist (e.g., Ziegler\u2013Nichols)."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"why-pid",children:"Why PID?"}),"\n",(0,s.jsx)(r.p,{children:"They are popular because they are:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Simple"}),"\n",(0,s.jsx)(r.li,{children:"Stable"}),"\n",(0,s.jsx)(r.li,{children:"Easy to tune"}),"\n",(0,s.jsx)(r.li,{children:"Widely understood"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"closing-remarks-other-resources",children:"Closing Remarks, other Resources"}),"\n",(0,s.jsx)(r.p,{children:"With this control law, given good choices for our weights (K_p, K_i, K_d), we can control a system to our setpoint using this intuitive formulation."}),"\n",(0,s.jsx)(r.p,{children:"Here are some resources for further reading:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.youtube.com/watch?v=wkfEZmsQqiA",children:"Basic overview of PID"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.youtube.com/watch?v=NVLXCwc8HzM",children:"Addressing the Weaknesses of PID, Anti-Windup"})}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>o,x:()=>l});var n=t(6540);const s={},i=n.createContext(s);function o(e){const r=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);