"use strict";(globalThis.webpackChunkwuair_docs=globalThis.webpackChunkwuair_docs||[]).push([[612],{3892:(e,t,n)=>{n.r(t),n.d(t,{ConfettiButton:()=>d,assets:()=>h,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"windows-startup/using-docker-plus-ros","title":"Using Docker and ROS Intro","description":"remember getting help is an email away. Don\'t spend 5 hours on a problem that might be a 5 minute fix. It is okay and expected for you to have problems. The link for getting in contact with us is here. You can always also contact your team lead.","source":"@site/docs/windows-startup/using-docker-plus-ros.mdx","sourceDirName":"windows-startup","slug":"/windows-startup/using-docker-plus-ros","permalink":"/wuair_docs/docs/windows-startup/using-docker-plus-ros","draft":false,"unlisted":false,"editUrl":"https://github.com/WU-AI-Racing/wuair_docs.git/docs/windows-startup/using-docker-plus-ros.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"image":"/img/ros-logo.jpg"},"sidebar":"tutorialSidebar","previous":{"title":"GitHub Setup","permalink":"/wuair_docs/docs/windows-startup/Github-Basics"},"next":{"title":"Oh no I need help this is terrible","permalink":"/wuair_docs/docs/windows-startup/help-me"}}');var o=n(4848),i=n(8453),r=(n(6540),{});!function e(t,n,a,o){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),r="function"==typeof Path2D&&"function"==typeof DOMMatrix,s=function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),n=e.getContext("2d");n.fillRect(0,0,1,1);var a=e.transferToImageBitmap();n.createPattern(a,"no-repeat")}catch(o){return!1}return!0}();function l(){}function c(e){var a=n.exports.Promise,o=void 0!==a?a:t.Promise;return"function"==typeof o?new o(e):(e(l,l),null)}var h,d,u,f,p,m,g,b,w,x,y,v=(h=s,d=new Map,{transform:function(e){if(h)return e;if(d.has(e))return d.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),d.set(e,t),t},clear:function(){d.clear()}}),M=(p=Math.floor(1e3/60),m={},g=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(u=function(e){var t=Math.random();return m[t]=requestAnimationFrame(function n(a){g===a||g+p-1<a?(g=a,delete m[t],e()):m[t]=requestAnimationFrame(n)}),t},f=function(e){m[e]&&cancelAnimationFrame(m[e])}):(u=function(e){return setTimeout(e,p)},f=function(e){return clearTimeout(e)}),{frame:u,cancel:f}),k=(x={},function(){if(b)return b;if(!a&&i){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{b=new Worker(URL.createObjectURL(new Blob([t])))}catch(n){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",n),null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(n,a,o){if(w)return t(n,null),w;var i=Math.random().toString(36).slice(2);return w=c(function(a){function r(t){t.data.callback===i&&(delete x[i],e.removeEventListener("message",r),w=null,v.clear(),o(),a())}e.addEventListener("message",r),t(n,i),x[i]=r.bind(null,{data:{callback:i}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),x)x[t](),delete x[t]}}(b)}return b}),j={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(e,t,n){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:j[t],n)}function S(e){return e<0?0:Math.floor(e)}function I(e,t){return Math.floor(Math.random()*(t-e))+e}function T(e){return parseInt(e,16)}function R(e){return e.map(E)}function E(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:T(t.substring(0,2)),g:T(t.substring(2,4)),b:T(t.substring(4,6))}}function O(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function P(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function B(e){var t=e.angle*(Math.PI/180),n=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*n-Math.random()*n),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function D(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var n=t.tick++/t.totalTicks,a=t.x+t.random*t.tiltCos,o=t.y+t.random*t.tiltSin,i=t.wobbleX+t.random*t.tiltCos,s=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),r&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,n,a,o,i,r){var s=new Path2D(e),l=new Path2D;l.addPath(s,new DOMMatrix(t));var c=new Path2D;return c.addPath(l,new DOMMatrix([Math.cos(r)*o,Math.sin(r)*o,-Math.sin(r)*i,Math.cos(r)*i,n,a])),c}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(i-a),.1*Math.abs(s-o),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,c=.1*Math.abs(i-a),h=.1*Math.abs(s-o),d=t.shape.bitmap.width*t.scalar,u=t.shape.bitmap.height*t.scalar,f=new DOMMatrix([Math.cos(l)*c,Math.sin(l)*c,-Math.sin(l)*h,Math.cos(l)*h,t.x,t.y]);f.multiplySelf(new DOMMatrix(t.shape.matrix));var p=e.createPattern(v.transform(t.shape.bitmap),"no-repeat");p.setTransform(f),e.globalAlpha=1-n,e.fillStyle=p,e.fillRect(t.x-d/2,t.y-u/2,d,u),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(i-a)*t.ovalScalar,Math.abs(s-o)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,a,o,i,r,s,l){e.save(),e.translate(t,n),e.rotate(i),e.scale(a,o),e.arc(0,0,1,r,s,l),e.restore()}(e,t.x,t.y,Math.abs(i-a)*t.ovalScalar,Math.abs(s-o)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var m=Math.PI/2*3,g=4*t.scalar,b=8*t.scalar,w=t.x,x=t.y,y=5,M=Math.PI/y;y--;)w=t.x+Math.cos(m)*b,x=t.y+Math.sin(m)*b,e.lineTo(w,x),m+=M,w=t.x+Math.cos(m)*g,x=t.y+Math.sin(m)*g,e.lineTo(w,x),m+=M;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(o)),e.lineTo(Math.floor(i),Math.floor(s)),e.lineTo(Math.floor(a),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function N(e,n){var r,s=!e,l=!!C(n||{},"resize"),h=!1,d=C(n,"disableForReducedMotion",Boolean),u=i&&!!C(n||{},"useWorker")?k():null,f=s?O:P,p=!(!e||!u)&&!!e.__confetti_initialized,m="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function g(t,n,i){for(var s=C(t,"particleCount",S),l=C(t,"angle",Number),h=C(t,"spread",Number),d=C(t,"startVelocity",Number),u=C(t,"decay",Number),p=C(t,"gravity",Number),m=C(t,"drift",Number),g=C(t,"colors",R),b=C(t,"ticks",Number),w=C(t,"shapes"),x=C(t,"scalar"),y=!!C(t,"flat"),k=function(e){var t=C(e,"origin",Object);return t.x=C(t,"x",Number),t.y=C(t,"y",Number),t}(t),j=s,T=[],E=e.width*k.x,O=e.height*k.y;j--;)T.push(B({x:E,y:O,angle:l,spread:h,startVelocity:d,color:g[j%g.length],shape:w[I(0,w.length)],ticks:b,decay:u,gravity:p,drift:m,scalar:x,flat:y}));return r?r.addFettis(T):(r=function(e,t,n,i,r){var s,l,h=t.slice(),d=e.getContext("2d"),u=c(function(t){function c(){s=l=null,d.clearRect(0,0,i.width,i.height),v.clear(),r(),t()}s=M.frame(function t(){!a||i.width===o.width&&i.height===o.height||(i.width=e.width=o.width,i.height=e.height=o.height),i.width||i.height||(n(e),i.width=e.width,i.height=e.height),d.clearRect(0,0,i.width,i.height),(h=h.filter(function(e){return D(d,e)})).length?s=M.frame(t):c()}),l=c});return{addFettis:function(e){return h=h.concat(e),u},canvas:e,promise:u,reset:function(){s&&M.cancel(s),l&&l()}}}(e,T,f,n,i),r.promise)}function b(n){var a=d||C(n,"disableForReducedMotion",Boolean),o=C(n,"zIndex",Number);if(a&&m)return c(function(e){e()});s&&r?e=r.canvas:s&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(o),document.body.appendChild(e)),l&&!p&&f(e);var i={width:e.width,height:e.height};function b(){if(u){var t={getBoundingClientRect:function(){if(!s)return e.getBoundingClientRect()}};return f(t),void u.postMessage({resize:{width:t.width,height:t.height}})}i.width=i.height=null}function w(){r=null,l&&(h=!1,t.removeEventListener("resize",b)),s&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,p=!1)}return u&&!p&&u.init(e),p=!0,u&&(e.__confetti_initialized=!0),l&&!h&&(h=!0,t.addEventListener("resize",b,!1)),u?u.fire(n,i,w):g(n,i,w)}return b.reset=function(){u&&u.reset(),r&&r.reset()},b}function _(){return y||(y=N(null,{useWorker:!0,resize:!0})),y}n.exports=function(){return _().apply(this,arguments)},n.exports.reset=function(){_().reset()},n.exports.create=N,n.exports.shapeFromPath=function(e){if(!r)throw new Error("path confetti are not supported in this browser");var t,n;"string"==typeof e?t=e:(t=e.path,n=e.matrix);var a=new Path2D(t),o=document.createElement("canvas").getContext("2d");if(!n){for(var i,s,l=1e3,c=l,h=l,d=0,u=0,f=0;f<l;f+=2)for(var p=0;p<l;p+=2)o.isPointInPath(a,f,p,"nonzero")&&(c=Math.min(c,f),h=Math.min(h,p),d=Math.max(d,f),u=Math.max(u,p));i=d-c,s=u-h;var m=Math.min(10/i,10/s);n=[m,0,0,m,-Math.round(i/2+c)*m,-Math.round(s/2+h)*m]}return{type:"path",path:t,matrix:n}},n.exports.shapeFromText=function(e){var t,n=1,a="#000000",o='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,n="scalar"in e?e.scalar:n,o="fontFamily"in e?e.fontFamily:o,a="color"in e?e.color:a);var i=10*n,r=i+"px "+o,s=new OffscreenCanvas(i,i),l=s.getContext("2d");l.font=r;var c=l.measureText(t),h=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),d=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),u=c.actualBoundingBoxLeft+2,f=c.actualBoundingBoxAscent+2;h+=4,d+=4,(l=(s=new OffscreenCanvas(h,d)).getContext("2d")).font=r,l.fillStyle=a,l.fillText(t,u,f);var p=1/n;return{type:"bitmap",bitmap:s.transferToImageBitmap(),matrix:[p,0,0,p,-h*p/2,-d*p/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),r,!1);const s=r.exports;r.exports.create;const l={sidebar_position:4,image:"/img/ros-logo.jpg"},c="Using Docker and ROS Intro",h={};function d(){return(0,o.jsx)("button",{onClick:()=>{s({particleCount:150,spread:70,origin:{y:.6}});const e=new Audio("/wuair_docs/audio/confetti.mp3");e.addEventListener("canplaythrough",()=>e.play())},style:{marginLeft:"8px",padding:"4px 10px",backgroundColor:"var(--ifm-color-primary)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.95rem",display:"inline-block",verticalAlign:"middle"},children:"you deserve this!"})}const u=[{value:"Running simulation",id:"running-simulation",level:2}];function f(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"using-docker-and-ros-intro",children:"Using Docker and ROS Intro"})}),"\n",(0,o.jsx)(t.admonition,{title:"Reminder for help",type:"tip",children:(0,o.jsxs)(t.p,{children:["remember getting help is an email away. Don't spend 5 hours on a problem that might be a 5 minute fix. It is okay and expected for you to have problems. The link for getting in contact with us is ",(0,o.jsx)(t.a,{href:"/wuair_docs/docs/windows-startup/help-me",children:"here"}),". You can always also contact your team lead."]})}),"\n",(0,o.jsx)(t.p,{children:"Build the Docker compose image with"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"sudo usermod -aG docker $USER && docker-compose up -d --build\n"})}),"\n",(0,o.jsx)(t.p,{children:"this might take a while."}),"\n",(0,o.jsxs)(t.admonition,{title:"Important Warning",type:"danger",children:[(0,o.jsx)(t.p,{children:"If you get a warning like:"}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:'WARN[0000] The "SSH_AUTH_SOCK" variable is not set. Defaulting to a blank string.\ninvalid spec: :/ssh-agent: empty section between colons\n'})}),(0,o.jsxs)(t.p,{children:["don't panic or ignore it. This is one of those times warnings matter. go back to ",(0,o.jsx)(t.strong,{children:"Your first SSH key"})," and redo steps 3 and 4. If they both act as expected, retry the above command. If you still get a warning, reach out."]})]}),"\n",(0,o.jsx)(t.p,{children:"Then run the container with"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"docker-compose exec humble bash\n"})}),"\n",(0,o.jsx)(t.p,{children:"you should get a new shell once this executes."}),"\n",(0,o.jsx)(t.p,{children:"ROS2 time :)"}),"\n",(0,o.jsx)(t.h2,{id:"running-simulation",children:"Running simulation"}),"\n",(0,o.jsx)(t.p,{children:"After entering the docker image, run"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"source src/.rosbashrc.sh\n.r\ncolcon build --symlink-install\n.w\n"})}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"source src/.rosbashrc.sh"})," will get you the following aliases:"]}),"\n",(0,o.jsxs)(n,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)("strong",{children:"Click to show aliases"})}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"alias .r='source /opt/ros/humble/setup.bash'\nalias .w='source /ros2_ws/install/setup.bash'\nalias .ws='cd /ros2_ws'\n\n# Build and clean\nalias cb='cd /ros2_ws && colcon build'\nalias cbc='cd /ros2_ws && rm -rf build install log && colcon build'\nalias cl='cd /ros2_ws && rm -rf build install log'1\n\n# List ROS environment info\nalias envr='env | grep ROS'\n\n\n# Shortcuts\nalias ll='ls -lah --color=auto'\nalias gs='git status'\nalias gp='git pull'\nalias gd='git diff'\n\n# Run tmux if available\nalias tm='tmux attach || tmux'\n"})})]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"colcon build --symlink-install"})," will build the entire workspace and take a while."]}),"\n",(0,o.jsx)(t.p,{children:"You should now be able to run the simulation with the following command:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"ros2 launch eufs_launcher eufs_launcher.launch.py\n"})}),"\n",(0,o.jsx)(t.p,{children:"From here, press the checkbox that says something like Gazebo in the options, then press launch.\nThis should get you a new set of guis, one is a controller and the other two are visualization."}),"\n","\n","\n",(0,o.jsx)("p",{children:(0,o.jsxs)(t.p,{children:["You did it! ",(0,o.jsx)(d,{})]})})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(f,{...e})}):f(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var a=n(6540);const o={},i=a.createContext(o);function r(e){const t=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);