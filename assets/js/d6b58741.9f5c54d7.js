"use strict";(globalThis.webpackChunkwuair_docs=globalThis.webpackChunkwuair_docs||[]).push([[696],{7401:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"tutorial-getting-started/software-installation","title":"Linux Setup","description":"ROS2 Software must be run in Ubuntu Jammy (22.04). To enable everyone to implement their code without installing an entirely new operating system we will make use of Docker. This will create a Docker container on your computer that\'s running Ubuntu.","source":"@site/docs/tutorial-getting-started/software-installation.md","sourceDirName":"tutorial-getting-started","slug":"/tutorial-getting-started/software-installation","permalink":"/wuair_docs/docs/tutorial-getting-started/software-installation","draft":false,"unlisted":false,"editUrl":"https://github.com/WU-AI-Racing/wuair_docs.git/docs/tutorial-getting-started/software-installation.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Oh no I need help this is terrible","permalink":"/wuair_docs/docs/tutorial-getting-started/windows-startup/help-me"},"next":{"title":"Mac Setup","permalink":"/wuair_docs/docs/tutorial-getting-started/mac-stetup"}}');var o=t(4848),r=t(8453);const s={sidebar_position:6},l="Linux Setup",a={},c=[{value:"Linux Installation:",id:"linux-installation",level:2},{value:"Docker set up",id:"docker-set-up",level:3},{value:"Running simulation",id:"running-simulation",level:2},{value:"Developing in Docker",id:"developing-in-docker",level:3},{value:"Cloning the stack",id:"cloning-the-stack",level:2},{value:"This will pull only the main branch of each repository.",id:"this-will-pull-only-the-main-branch-of-each-repository",level:4}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"linux-setup",children:"Linux Setup"})}),"\n",(0,o.jsx)(n.p,{children:"ROS2 Software must be run in Ubuntu Jammy (22.04). To enable everyone to implement their code without installing an entirely new operating system we will make use of Docker. This will create a Docker container on your computer that's running Ubuntu."}),"\n",(0,o.jsx)(n.h2,{id:"linux-installation",children:"Linux Installation:"}),"\n",(0,o.jsx)(n.p,{children:"Make a new directory for wuair code"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"mkdir ~/wuair\ncd wuair\n"})}),"\n",(0,o.jsx)(n.p,{children:"Clone the system repository"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"git clone https://github.com/WU-AI-Racing/wuair_system.git\n"})}),"\n",(0,o.jsx)(n.p,{children:"Next enter the cloned directory"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"cd wuair_system\n"})}),"\n",(0,o.jsx)(n.h3,{id:"docker-set-up",children:"Docker set up"}),"\n",(0,o.jsx)(n.p,{children:"Build the Docker compose image with"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"docker-compose up -d --build\n"})}),"\n",(0,o.jsx)(n.p,{children:"Then run the container with"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"docker-compose exec humble bash\n"})}),"\n",(0,o.jsx)(n.h2,{id:"running-simulation",children:"Running simulation"}),"\n",(0,o.jsxs)(n.p,{children:["After entering the docker image run ",(0,o.jsx)(n.code,{children:"source src/.rosbashrc.sh"})," for useful aliases such as:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"alias .r='source /opt/ros/humble/setup.bash'\nalias .w='source /ros2_ws/install/setup.bash'\nalias .ws='cd /ros2_ws'\n\n# Build and clean\nalias cb='cd /ros2_ws && colcon build'\nalias cbc='cd /ros2_ws && rm -rf build install log && colcon build'\nalias cl='cd /ros2_ws && rm -rf build install log'1\n\n# List ROS environment info\nalias envr='env | grep ROS'\n\n\n# Shortcuts\nalias ll='ls -lah --color=auto'\nalias gs='git status'\nalias gp='git pull'\nalias gd='git diff'\n\n# Run tmux if available\nalias tm='tmux attach || tmux'\n"})}),"\n",(0,o.jsx)(n.p,{children:"Now build the system"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:".r\ncolcon build --symlink-install\n.w\n"})}),"\n",(0,o.jsx)(n.p,{children:"or non-aliased commands:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"source /opt/ros/humble/setup.bash\ncolcon build --symlink-install\nsource /ros2_ws/install/setup.bash\n"})}),"\n",(0,o.jsx)(n.p,{children:"You should now be able to run the simulation with the following command."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"ros2 launch eufs_launcher eufs_launcher.launch.py\n"})}),"\n",(0,o.jsx)(n.h3,{id:"developing-in-docker",children:"Developing in Docker"}),"\n",(0,o.jsxs)(n.p,{children:["Our system is set up with the ",(0,o.jsx)(n.code,{children:"src"})," directory mounted from your local machine and the docker container. This allows you to make change to any repositories and code within them on your local machine in your IDE of choice (EX: VsCode) on your local computer and see those change live in the Docker container. After major changes you may need to rebuild the ROS workspace with:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"colcon build --symlink-install\n"})}),"\n",(0,o.jsx)(n.h2,{id:"cloning-the-stack",children:"Cloning the stack"}),"\n",(0,o.jsxs)(n.p,{children:["To clone the our stack you can use the automated tool, vcstool. To get started you will need to set up an SSH key for github following ",(0,o.jsx)(n.a,{href:"https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent",children:"this guide"}),". With the SSH key you can now import each repository in the WUAIR stack and ensure they are up to date."]}),"\n",(0,o.jsxs)(n.p,{children:["Move to the source directory and import the ",(0,o.jsx)(n.code,{children:"wuair.rosinstall"})," file:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"vcs import < wuair.rosinstall\n"})}),"\n",(0,o.jsx)(n.p,{children:"All the packages should now be imported into your source file. Your only need to run this command once. To update packages after this importing them run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"vcs pull src\n"})}),"\n",(0,o.jsx)(n.h4,{id:"this-will-pull-only-the-main-branch-of-each-repository",children:"This will pull only the main branch of each repository."}),"\n",(0,o.jsx)(n.p,{children:"To test code in experimental branches the best approach we currently have found it this"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Delete the cloned repository you want work on. EX: ",(0,o.jsx)(n.code,{children:"rm -fr perception_pkg"})]}),"\n",(0,o.jsxs)(n.li,{children:["Clone the repository you want to work on EX: ",(0,o.jsx)(n.code,{children:"git clone git@github.com:WU-AI-Racing/wuair_system.git"})]}),"\n",(0,o.jsx)(n.li,{children:"make change to that repository in your branch."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var i=t(6540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);