"use strict";(globalThis.webpackChunkwuair_docs=globalThis.webpackChunkwuair_docs||[]).push([[660],{8216:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"Development/setting-up-repos","title":"setting-up-repos","description":"`# Getting Started With ROS Development","source":"@site/docs/Development/setting-up-repos.md","sourceDirName":"Development","slug":"/Development/setting-up-repos","permalink":"/wuair_docs/docs/Development/setting-up-repos","draft":false,"unlisted":false,"editUrl":"https://github.com/WU-AI-Racing/wuair_docs.git/docs/Development/setting-up-repos.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"ROS Development Kick Starter","permalink":"/wuair_docs/docs/category/ros-development-kick-starter"},"next":{"title":"ROS Python Development & Style Guide","permalink":"/wuair_docs/docs/Development/style-guide"}}');var i=t(4848),r=t(8453);const s={sidebar_position:1},c=void 0,l={},d=[{value:"Cloning Repositories",id:"cloning-repositories",level:2},{value:"Running code",id:"running-code",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"`# Getting Started With ROS Development"}),"\n",(0,i.jsx)(n.h2,{id:"cloning-repositories",children:"Cloning Repositories"}),"\n",(0,i.jsx)(n.p,{children:"Once you have completed the software installation guide and set up Git and Docker you can now begin getting started on writing you own code. Each department will have more detailed development guides but this will allow you to get started."}),"\n",(0,i.jsxs)(n.p,{children:["Instead of using nested Git repos, called submodules, we use individual repositories for each department. To ensure each repository is up-to-date and using correct branch we will use ",(0,i.jsx)(n.strong,{children:"vcstool"})," to automate cloning and pulling.\n`"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.mdxAdmonitionTitle,{children:["If these Git terms are unfamiliar please refer to the ",(0,i.jsx)(n.a,{href:"/wuair_docs/docs/tutorial-getting-started/what-is-git",children:"Git tutorial"})]})}),"\n",(0,i.jsxs)(n.p,{children:["To get started you will need to set up an SSH key for github following ",(0,i.jsx)(n.a,{href:"https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent",children:"this guide"}),". With the SSH key you can now import each repository in the WUAIR stack and ensure they are up to date."]}),"\n",(0,i.jsxs)(n.p,{children:["After entering the ",(0,i.jsx)(n.code,{children:"ros2_ws"})," via Docker enter the ",(0,i.jsx)(n.code,{children:"/src"})," directory."]}),"\n",(0,i.jsxs)(n.admonition,{type:"important",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsxs)(n.p,{children:["The /src directory is mounted in the docker container! This means that you can make changes to files within the ",(0,i.jsx)(n.code,{children:"\\src"})," on your local machine or within docker and it will remain the same between both."]})]}),"\n",(0,i.jsx)(n.p,{children:"Next source ros with"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:". /opt/ros/humble/setup.bash\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then clone your desired using ",(0,i.jsx)(n.code,{children:"vcstool"}),".\nMove to the source directory and import the ",(0,i.jsx)(n.code,{children:"wuair.rosinstall"})," file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"vcs import < wuair.rosinstall\n"})}),"\n",(0,i.jsx)(n.p,{children:"All the packages should now be imported into your source file. Your only need to run this command once. To update packages after this importing them run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"vcs pull src\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"important",children:(0,i.jsx)(n.p,{children:"This will pull only the main branch of each repository."})}),"\n",(0,i.jsxs)(n.p,{children:["To test code in experimental branches the best approach we currently have found it this to be the easiest method.\nNow in on you ",(0,i.jsx)(n.strong,{children:"local machine"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Delete the cloned repository you want work on. EX: ",(0,i.jsx)(n.code,{children:"rm -fr perception_pkg"})]}),"\n",(0,i.jsxs)(n.li,{children:["Clone the repository you want to work on EX: ",(0,i.jsx)(n.code,{children:"git clone git@github.com:WU-AI-Racing/wuair_perception.git"})]}),"\n",(0,i.jsxs)(n.li,{children:["Go to you desired experiment branch with ",(0,i.jsx)(n.code,{children:"git checkout BRANCH-NAME"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Then build the ros workspace with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:".r\ncolcon build --symlink-install\n.w\n"})}),"\n",(0,i.jsx)(n.p,{children:"or non-aliased commands:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"source /opt/ros/humble/setup.bash\ncolcon build --symlink-install\nsource /ros2_ws/install/setup.bash\n"})}),"\n",(0,i.jsx)(n.p,{children:"Now you should be able to edit files on your local machine and see the update in Docker. After editing files you should not need to rebuild every time because of the simlink, but for major changes you may need to rebuild."}),"\n",(0,i.jsx)(n.h2,{id:"running-code",children:"Running code"}),"\n",(0,i.jsx)(n.p,{children:"Make sure EUFS is running in another terminal."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ros2 launch eufs_launcher eufs_launcher.launch.py\n"})}),"\n",(0,i.jsx)(n.p,{children:"To run components individually (after building) use the following command with you're desired package:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ros2 run wuair_control ros\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>c});var o=t(6540);const i={},r=o.createContext(i);function s(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);