"use strict";(globalThis.webpackChunkwuair_docs=globalThis.webpackChunkwuair_docs||[]).push([[2702],{1125:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/ros_pipeline-437aa8097f2116d8e4768c4b4d7213c6.svg"},2280:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/ros_actions-ebedec631db0e8046976db81206f717c.svg"},5176:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/ros_service-6151543d6ca1297aa4d78285ce1a49a3.svg"},6276:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/pub_and_sub-1ee8e4f2f0f0ba199a0f6f47b8b34069.svg"},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>o});var i=n(6540);const r={},a=i.createContext(r);function t(e){const s=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(a.Provider,{value:s},e.children)}},9559:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"tutorial-getting-started/what-is-ros","title":"What is ROS?","description":"Overview","source":"@site/docs/tutorial-getting-started/what-is-ros.md","sourceDirName":"tutorial-getting-started","slug":"/tutorial-getting-started/what-is-ros","permalink":"/wuair_docs/docs/tutorial-getting-started/what-is-ros","draft":false,"unlisted":false,"editUrl":"https://github.com/WU-AI-Racing/wuair_docs.git/docs/tutorial-getting-started/what-is-ros.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/wuair_docs/docs/category/getting-started"},"next":{"title":"What is Git?","permalink":"/wuair_docs/docs/tutorial-getting-started/what-is-git"}}');var r=n(4848),a=n(8453);const t={sidebar_position:1},o="What is ROS?",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Creating a ROS Node",id:"creating-a-ros-node",level:3},{value:"ROS Structure",id:"ros-structure",level:2},{value:"Data Distribution Service",id:"data-distribution-service",level:3},{value:"1. Publishers and Subscribers",id:"1-publishers-and-subscribers",level:3},{value:"Code Example: Publisher &amp; Subscriber",id:"code-example-publisher--subscriber",level:4},{value:"2. Services",id:"2-services",level:3},{value:"Code Example: Service Server",id:"code-example-service-server",level:4},{value:"3. Actions",id:"3-actions",level:3},{value:"Code Example: Action Client",id:"code-example-action-client",level:4},{value:"ROS Parameters",id:"ros-parameters",level:2},{value:"ROS Bags",id:"ros-bags",level:2},{value:"Building ROS2 Packages",id:"building-ros2-packages",level:2},{value:"Building Specific Packages",id:"building-specific-packages",level:3},{value:"Useful ROS Commands",id:"useful-ros-commands",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"what-is-ros",children:"What is ROS?"})}),"\n",(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(s.p,{children:["For a more detailed guide you can follow ",(0,r.jsx)(s.a,{href:"https://roboticsbackend.com/what-is-ros/",children:"this tutorial"})]}),"\n",(0,r.jsxs)(s.p,{children:['Robot Operating System (ROS) is an open-source robotics suite. Although named an "Operating System," ROS is not an actual OS but a set of software frameworks for robot software development. ROS processes are represented in a graph architecture where processing takes place in ',(0,r.jsx)(s.strong,{children:"nodes"})," that may receive, post, and multiplex sensor data, control, state, planning, actuator, and other messages (",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Robot_Operating_System",children:"ROS Wikipedia"}),")."]}),"\n",(0,r.jsx)(s.h3,{id:"creating-a-ros-node",children:"Creating a ROS Node"}),"\n",(0,r.jsxs)(s.p,{children:["In ROS 2, we usually create a class that inherits from ",(0,r.jsx)(s.code,{children:"Node"}),". Here is a basic example of a Python node:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass MyRobotNode(Node):\r\n    def __init__(self):\r\n        # Initialize the node with the name 'my_robot_node'\r\n        super().__init__('my_robot_node')\r\n        self.get_logger().info('The node has started!')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = MyRobotNode()\r\n    rclpy.spin(node) # Keep the node running\r\n    rclpy.shutdown()\n"})}),"\n",(0,r.jsx)(s.h2,{id:"ros-structure",children:"ROS Structure"}),"\n",(0,r.jsx)(s.p,{children:"One of the most important features of ROS is its modularity. Like a graph with nodes representing processes and lines representing communications, it can be organized in any arbitrary configuration."}),"\n",(0,r.jsx)(s.p,{children:"ROS allows robots to communicate between their various algorithms (nodes) and also between nodes and hardware."}),"\n",(0,r.jsx)(s.h3,{id:"data-distribution-service",children:"Data Distribution Service"}),"\n",(0,r.jsx)(s.p,{children:"To facilitate communication, ROS uses the Data Distribution Service (DDS). DDS acts like a pipe, moving data throughout the ROS system."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"ROS Pipeline",src:n(1125).A+"",title:"ROS Diagram"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"There are 3 methods of communication within ROS:"})}),"\n",(0,r.jsx)(s.h3,{id:"1-publishers-and-subscribers",children:"1. Publishers and Subscribers"}),"\n",(0,r.jsxs)(s.p,{children:["This is the communication system most of you will rely on. Like a radio station, a node can ",(0,r.jsx)(s.strong,{children:"publish"})," different topics that any other node can ",(0,r.jsx)(s.strong,{children:"subscribe"})," to."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topic:"}),' The specific "channel" the node publishes to.']}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Message (msg):"})," The type of information the topic sends."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["For example, if there is a ",(0,r.jsx)(s.code,{children:"camera.py"})," node receiving information from a camera, it will publish the ",(0,r.jsx)(s.code,{children:"/front_camera"})," topic and send image messages. Then other nodes, like an object detection node and a mapping node, can subscribe to the ",(0,r.jsx)(s.code,{children:"/front_camera"})," topic, and both will receive the image messages."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"ROS Pipeline",src:n(6276).A+"",title:"ROS Diagram"})}),"\n",(0,r.jsx)(s.h4,{id:"code-example-publisher--subscriber",children:"Code Example: Publisher & Subscriber"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# PUBLISHER inside a Node class\r\n# Publishes a String message to 'topic_name' every time it's called\r\nself.publisher_ = self.create_publisher(String, 'topic_name', 10)\r\nself.publisher_.publish(\"Hello ROS\")\r\n\r\n# SUBSCRIBER inside a Node class\r\n# Listens to 'topic_name' and triggers 'listener_callback' when data arrives\r\nself.subscription = self.create_subscription(\r\n    String, \r\n    'topic_name', \r\n    self.listener_callback, \r\n    10)\r\n\r\ndef listener_callback(self, msg):\r\n    self.get_logger().info(f'I heard: {msg.data}')\n"})}),"\n",(0,r.jsx)(s.h3,{id:"2-services",children:"2. Services"}),"\n",(0,r.jsxs)(s.p,{children:["Services have two components: a ",(0,r.jsx)(s.strong,{children:"Service Client"})," and a ",(0,r.jsx)(s.strong,{children:"Service Server"}),". The service client sends a ",(0,r.jsx)(s.strong,{children:"request"}),". For example, a service client could send a message to swivel a camera, and then a camera mover server would send a response confirming it moved the desired amount."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"ROS Services",src:n(5176).A+"",title:"ROS Diagram"})}),"\n",(0,r.jsx)(s.h4,{id:"code-example-service-server",children:"Code Example: Service Server"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Create a service that listens on 'move_camera'\r\n# When called, it runs the 'move_callback' function\r\nself.srv = self.create_service(MoveCamera, 'move_camera', self.move_callback)\r\n\r\ndef move_callback(self, request, response):\r\n    # Logic to move hardware goes here\r\n    # Assume request has a field 'angle'\r\n    self.get_logger().info(f'Moving camera to {request.angle} degrees')\r\n    response.success = True\r\n    return response\n"})}),"\n",(0,r.jsx)(s.h3,{id:"3-actions",children:"3. Actions"}),"\n",(0,r.jsxs)(s.p,{children:["The last way ROS communicates is through Actions. In an action, a client node sends a ",(0,r.jsx)(s.strong,{children:"goal"})," for the robot to perform a certain task. A controller node then interprets this goal and sends progress updates (or ",(0,r.jsx)(s.strong,{children:"feedback"}),") as the robot completes the goal."]}),"\n",(0,r.jsxs)(s.p,{children:["Once the goal is complete, the controller will send a different message. This is called the ",(0,r.jsx)(s.strong,{children:"result"})," of the action."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"ROS Actions",src:n(2280).A+"",title:"ROS Diagram"})}),"\n",(0,r.jsx)(s.h4,{id:"code-example-action-client",children:"Code Example: Action Client"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Sending a goal to a robot to drive 10 meters\r\ngoal_msg = Drive.Goal()\r\ngoal_msg.target_distance = 10.0\r\n\r\nself._action_client.wait_for_server()\r\n# Send goal and register a callback for feedback\r\nself._action_client.send_goal_async(goal_msg, feedback_callback=self.feedback_callback)\n"})}),"\n",(0,r.jsx)(s.admonition,{title:"Don't worry if this feels unintuitive",type:"tip",children:(0,r.jsx)(s.p,{children:"As you start to work in the ROS ecosystem it will become much easier to understand."})}),"\n",(0,r.jsx)(s.h2,{id:"ros-parameters",children:"ROS Parameters"}),"\n",(0,r.jsxs)(s.p,{children:["Instead of needing to recompile to change values in our ROS nodes\u2014like ",(0,r.jsx)(s.code,{children:"maximum_speed"})," or ",(0,r.jsx)(s.code,{children:"simulation_mode"}),"\u2014we can add ",(0,r.jsx)(s.strong,{children:"Parameters"}),". These allow us to switch these values live while the robot is running."]}),"\n",(0,r.jsx)(s.h2,{id:"ros-bags",children:"ROS Bags"}),"\n",(0,r.jsx)(s.p,{children:'It can be useful to record data from the robot to allow us to get more realistic data than is possible in the simulation. This will be especially important to use because we don\'t have the physical car to test on yet. ROS Bags can record data from any nodes and allow us to "replay" that data later to test our algorithms.'}),"\n",(0,r.jsx)(s.h2,{id:"building-ros2-packages",children:"Building ROS2 Packages"}),"\n",(0,r.jsx)(s.p,{children:"It's essential that you understand the concept of workspaces, underlays, and overlays."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsxs)(s.em,{children:["Read about these concepts on the official ",(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Colcon-Tutorial.html#basics",children:"ROS2 wiki"}),"."]})}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["The command ",(0,r.jsx)(s.code,{children:"colcon build"})," is used to build packages. You should always be conscious of the workspace folder you're building in. Generally, this will be the ",(0,r.jsx)(s.code,{children:"~/ros2_ws/"})," folder unless you are explicitly doing some experimental work elsewhere."]}),"\n",(0,r.jsxs)(s.p,{children:["When you run ",(0,r.jsx)(s.code,{children:"colcon build"}),", the ROS2 build system will traverse the file system recursively, find all packages, and compile all packages that have changed or have not been compiled. Packages are identified by folders that contain a ",(0,r.jsx)(s.code,{children:"package.xml"})," file. Nested packaging is not allowed (i.e., packages cannot contain sub-packages)."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"source /opt/ros/humble/setup.bash\r\ncolcon build --symlink-install\r\nsource install/setup.bash\n"})}),"\n",(0,r.jsx)(s.h3,{id:"building-specific-packages",children:"Building Specific Packages"}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"--packages-up-to"})," argument selects a specific package to build and also informs colcon to build all of the packages that it depends on. It can be used as follows:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"colcon build --symlink-install --packages-up-to PACKAGE_NAME\n"})}),"\n",(0,r.jsx)(s.p,{children:"Other package selection commands are documented in the colcon docs."}),"\n",(0,r.jsx)(s.h2,{id:"useful-ros-commands",children:"Useful ROS Commands"}),"\n",(0,r.jsxs)(s.p,{children:["While is ROS in running in another terminal you can run any of the following commands in a separate docker terminal after sourcing with ",(0,r.jsx)(s.code,{children:"source /opt/ros/humble/setup.bash"}),"."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ros2 topic list"})," \u2026 lists all the topics that are being subscribed to and published."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ros2 topic echo TOPIC"})," \u2026 displays the messages published to that topic."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ros2 topic hz TOPIC"})," \u2026 shows the publishing rate of the topic."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ros2 topic info TOPIC"})," \u2026 shows information about a topic."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ros2 bag play SOME_BAG"})," \u2026 play a bag."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ros2 bag play SOME_BAG"})," --loop \u2026 if you want the bag to keep playing on loop."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ros2 run PACKAGE_NAME EXECUTABLE_NAME"})," \u2026 runs an executable from a package. For example, ros2 run slam slam_node launches the slam_node node in the slam package. The other node in the slam is the plotter node."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ros2 launch PACKAGE_NAME LAUNCH_FILE_NAME"})," \u2026 runs the specified launch file. For example, ros2 launch slam slam.launch.py."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ros2 run rqt_reconfigure rqt_reconfigure"})," \u2026 opens a Graphical User Interface (GUI) for dynamic reconfiguration of running ROS 2 nodes. This interface enables viewing and modifying node parameters in real time without restarting the nodes."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ros2 wtf AKA ros2 doctor"})," \u2026 shows warning from your system."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ros2 run rqt_graph rqt_graph"})," \u2026 generates a graph showing the topics and their subscription and publication connections."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);